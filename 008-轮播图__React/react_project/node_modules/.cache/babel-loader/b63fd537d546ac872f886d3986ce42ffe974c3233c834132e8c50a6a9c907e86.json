{"ast":null,"code":"var _jsxFileName = \"D:\\\\leading_end\\\\daily_study\\\\008-\\u8F6E\\u64AD\\u56FE__React\\\\react_project\\\\src\\\\components\\\\SlidePictures\\\\SlidePictures.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, memo, useRef } from 'react';\nimport './SlidePictures.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default SlidePictures = /*#__PURE__*/_s( /*#__PURE__*/memo(_s(props => {\n  _s();\n  const picturesArr = props.picturesArr;\n  const [mouseEnter, setMouseEnter] = useState(false); //鼠标是否悬浮在整个区域上\n  const [pictureShowing, setPictureShowing] = useState(0); //当前展示的是第几张图片，用来更新底部圆点\n  const [hasClicked, setHasClicked] = useState(false); //函数节流，防止用户快速、频繁点击图片变换导致出错，flase为图片变换操作不可执行\n\n  const picturesUl = useRef();\n  useEffect(() => {\n    if (!newval) {\n      this.$mytimer = setInterval(() => {\n        if (this.pictureShowing < this.pictures.length - 1) {\n          this.pictureShowing++;\n        } else {\n          this.pictureShowing = 0;\n        }\n        this.changeDefault(10);\n      }, 3000);\n    } else {\n      clearInterval(this.$mytimer);\n    }\n  }, [mouseEnter]);\n  useEffect(() => {\n    for (let i = 0; i < this.pictures.length; i++) {\n      this.$refs.cicle[i].style.background = \"\";\n    }\n    this.$refs.cicle[newval].style.background = \"black\";\n  }, [pictureShowing]);\n  useEffect(() => {\n    console.log(picturesUl);\n    // if('IntersectionObserver' in window){  \n    //     lazyImages.forEach(image => {  \n    //         observer.observe(image);  \n    //     });  \n    // }else{\n    //     lazyImages.forEach(image => {  \n    //         image.src = image.dataset.src;  \n    //         image.classList.remove('lazy');  \n    //     });  \n    // }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"outest\",\n    onMouseOver: \"mouseEnter = true\",\n    onMouseLeave: \"mouseEnter = false\",\n    children: [mouseEnter ? /*#__PURE__*/_jsxDEV(\"img\", {\n      class: \"icon _left\",\n      src: \"../img/\\u5411\\u5DE6.png\",\n      alt: \"\\u5411\\u5DE6\",\n      onClick: \"gotoLast()\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 30\n    }, this) : '', /*#__PURE__*/_jsxDEV(\"ul\", {\n      ref: picturesUl,\n      children: picturesArr.map(e => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            \"data-src\": e.src,\n            alt: e.alt,\n            loading: \"lazy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)\n        }, e.index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 29\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), mouseEnter ? /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"mydiv\",\n      children: picturesArr.map(e => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"empty-cicle\",\n          ref: \"cicle\",\n          onClick: \"gotoDirectly(e.index)\"\n        }, e.index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 41\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }, this) : '', mouseEnter ? /*#__PURE__*/_jsxDEV(\"img\", {\n      class: \"icon _right\",\n      src: \"../img/\\u5411\\u53F3.png\",\n      alt: \"\\u5411\\u53F3\",\n      onClick: \"gotoNext()\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 30\n    }, this) : '']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}, \"hgYuxu3xOavqx+/zz2J7jckSGq8=\")), \"hgYuxu3xOavqx+/zz2J7jckSGq8=\");","map":{"version":3,"names":["React","useEffect","useState","memo","useRef","jsxDEV","_jsxDEV","SlidePictures","_s","props","picturesArr","mouseEnter","setMouseEnter","pictureShowing","setPictureShowing","hasClicked","setHasClicked","picturesUl","newval","$mytimer","setInterval","pictures","length","changeDefault","clearInterval","i","$refs","cicle","style","background","console","log","class","onMouseOver","onMouseLeave","children","src","alt","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","map","e","loading","index"],"sources":["D:/leading_end/daily_study/008-轮播图__React/react_project/src/components/SlidePictures/SlidePictures.jsx"],"sourcesContent":["import React, {useEffect, useState, memo, useRef} from 'react'\r\nimport './SlidePictures.scss'\r\n\r\nexport default SlidePictures = memo((props) => {\r\n    const picturesArr = props.picturesArr;\r\n    const [mouseEnter, setMouseEnter] = useState(false);       //鼠标是否悬浮在整个区域上\r\n    const [pictureShowing, setPictureShowing] = useState(0);   //当前展示的是第几张图片，用来更新底部圆点\r\n    const [hasClicked, setHasClicked] = useState(false);       //函数节流，防止用户快速、频繁点击图片变换导致出错，flase为图片变换操作不可执行\r\n\r\n    const picturesUl = useRef();\r\n\r\n    useEffect(()=>{\r\n        if (!newval) {     \r\n            this.$mytimer = setInterval(() => {\r\n                if (this.pictureShowing < this.pictures.length-1) {\r\n                    this.pictureShowing++;\r\n                } else {\r\n                    this.pictureShowing = 0;\r\n                }\r\n                this.changeDefault(10);\r\n            }, 3000);\r\n        } else {\r\n            clearInterval(this.$mytimer);\r\n        }\r\n    }, [mouseEnter])\r\n\r\n    useEffect(()=>{\r\n        for (let i = 0; i < this.pictures.length; i++) {\r\n            (this.$refs.cicle)[i].style.background = \"\";\r\n        }\r\n        (this.$refs.cicle)[newval].style.background = \"black\";\r\n    },[pictureShowing])\r\n\r\n    useEffect(()=>{\r\n        console.log(picturesUl)\r\n        // if('IntersectionObserver' in window){  \r\n        //     lazyImages.forEach(image => {  \r\n        //         observer.observe(image);  \r\n        //     });  \r\n        // }else{\r\n        //     lazyImages.forEach(image => {  \r\n        //         image.src = image.dataset.src;  \r\n        //         image.classList.remove('lazy');  \r\n        //     });  \r\n        // }\r\n    })\r\n\r\n    return (\r\n        <div class=\"outest\" onMouseOver=\"mouseEnter = true\" onMouseLeave=\"mouseEnter = false\" >\r\n            {/* 向左icon，鼠标进入轮播图区域时才显现 */}\r\n            {\r\n                mouseEnter ? <img class=\"icon _left\" src=\"../img/向左.png\" \r\n                    alt=\"向左\" onClick=\"gotoLast()\"/> : ''\r\n            }\r\n            {/* 主要图片 */}\r\n            <ul ref={picturesUl}>\r\n            {\r\n                picturesArr.map(e => {\r\n                    return (<li key={e.index}>\r\n                        <img data-src={e.src} alt={e.alt} loading='lazy'/>\r\n                    </li>)\r\n                })\r\n            }\r\n            </ul>\r\n            {/* 底部小圆圈的设置 */}\r\n            {\r\n                mouseEnter ? (\r\n                    <div class=\"mydiv\">\r\n                        {\r\n                            picturesArr.map(e =>{\r\n                                return (<div class=\"empty-cicle\" key={e.index} ref=\"cicle\" \r\n                                    onClick=\"gotoDirectly(e.index)\">\r\n                                </div>)\r\n                            })\r\n                        }\r\n                    </div>\r\n                ) : ''\r\n            }\r\n            {/* 向右icon，鼠标进入轮播图区域时才显现 */}\r\n            {\r\n                mouseEnter ? <img class=\"icon _right\" src=\"../img/向右.png\" alt=\"向右\" \r\n                    onClick=\"gotoNext()\"/> : ''\r\n            }\r\n        </div>\r\n    )\r\n})\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}