{"ast":null,"code":"var _jsxFileName = \"D:\\\\leading_end\\\\daily_study\\\\008-\\u8F6E\\u64AD\\u56FE__React\\\\react_project\\\\src\\\\components\\\\SlidePictures\\\\SlidePictures.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, memo, useRef } from 'react';\nimport './SlidePictures.scss';\n\n/**\r\n * props 的参数\r\n * picturesArr: Array   （must）\r\n *      对象数组{src:String, alt:String, index:Number 从零开始}\r\n * circleOrSquare: Number   (0:'square', 1:'circle')\r\n *      下方的控制点事圆圈还是矩形\r\n * useControlPoint: Boolean\r\n *      是否启用下方的控制点\r\n * useLeftAndRight: Boolean\r\n *      是否启用左右两侧的控制标签\r\n * width:Number\r\n *      每一张图片的宽度(宽高必须同时设置)\r\n * height:Number\r\n *      每一张图片的高度(宽高必须同时设置)\r\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SlidePictures = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(props => {\n  _s();\n  const CONTROL_INDEX = 260; // 控制图片的切换速度\n  // 复制第一张图片在最后\n  const picturesArr = [...props.picturesArr, props.picturesArr[0]];\n  const circleOrSquare = props.circleOrSquare || 0;\n  const useControlPoint = (props.useControlPoint || true) && picturesArr.length > 2;\n  const useLeftAndRight = (props.useLeftAndRight || true) && picturesArr.length > 2;\n  const WIDTH = props.width || 600;\n  const HEIGHT = props.height || 400;\n  const [mouseEnter, setMouseEnter] = useState(false); //鼠标是否悬浮在整个区域上\n  const [pictureShowing, setPictureShowing] = useState(0); //当前展示的是第几张图片\n\n  const picturesUl = useRef(); // 图片外部的ul\n  const circlesContainer = useControlPoint ? useRef() : ''; // 底部的小圆圈\n  const customChanging = useRef(false); // 是否人为地引起了改变\n  const defaultChanging = useRef(false); // 默认切换图片\n\n  const observer = new IntersectionObserver((entries, observer) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        const lazyImage = entry.target;\n        lazyImage.src = lazyImage.dataset.src;\n        observer.unobserve(lazyImage);\n      }\n    });\n  });\n\n  // 控制图片切换的方法\n  // (当前所展示的图片索引currentPictureIndex，用于控制是否变换的值controlIndex)\n  // 当currentIndex累加到与controlIndex相等时，会进行图片的切换\n  const changeAction = (currentPictureIndex, controlIndex, currentIndex) => {\n    if (customChanging.current || defaultChanging.current) return;\n    if (currentIndex < controlIndex) {\n      requestAnimationFrame(() => {\n        changeAction(currentPictureIndex, controlIndex, currentIndex + 1);\n      });\n    } else {\n      defaultChanging.current = true;\n      // 如果有 5 张有效的图片，那么length = 6\n      const length = picturesArr.length;\n      const targetIndex = (currentPictureIndex + 1) % length;\n      if (currentPictureIndex === length - 1) {\n        picturesUl.current.classList.remove('ul-transition');\n        setPictureShowing(0);\n        requestAnimationFrame(() => {\n          // 会多走一次requestAnimationFrame，是为了确保 setPictureShowing 完成前没有给 picturesUl 添加 .ul-transition\n          changeAction(0, controlIndex, controlIndex - 1);\n        });\n      } else {\n        if (!picturesUl.current.classList.contains('ul-transition')) {\n          picturesUl.current.classList.add('ul-transition');\n        }\n        setPictureShowing(targetIndex);\n        requestAnimationFrame(() => {\n          changeAction(targetIndex, controlIndex, 1);\n        });\n      }\n    }\n  };\n\n  // 上一张（被gotoDirectly调用）\n  const lastPicutre = customIndex => {\n    customChanging.current = true;\n    const length = picturesArr.length;\n    var targetIndex = customIndex % length;\n    if (targetIndex < 0) {\n      picturesUl.current.classList.remove('ul-transition');\n      let endIndex = length - 1;\n      setPictureShowing(endIndex);\n      requestAnimationFrame(() => {\n        customChanging.current = false;\n        changeAction(endIndex - 2, CONTROL_INDEX, CONTROL_INDEX - 1);\n      });\n    } else {\n      setPictureShowing(targetIndex);\n      requestAnimationFrame(() => {\n        customChanging.current = false;\n        changeAction(targetIndex, CONTROL_INDEX, 1);\n      });\n    }\n  };\n  // 下一张（被gotoDirectly调用）\n  const nextPictures = customIndex => {\n    customChanging.current = true;\n    const length = picturesArr.length;\n    const targetIndex = customIndex % length;\n    if (pictureShowing === length - 1 && customIndex === length) {\n      requestAnimationFrame(() => {\n        customChanging.current = false;\n        changeAction(length - 1, CONTROL_INDEX, CONTROL_INDEX);\n      });\n    } else {\n      setPictureShowing(targetIndex);\n      requestAnimationFrame(() => {\n        customChanging.current = false;\n        changeAction(targetIndex, CONTROL_INDEX, 1);\n      });\n    }\n  };\n  // 跳转到指定的图片位，index取值[0 ~ length-2]\n  const gotoDirectly = index => {\n    if (customChanging.current || defaultChanging.current) return;\n    if (pictureShowing === picturesArr.length - 1 && index === 0) return;\n    if (pictureShowing === picturesArr.length - 1 && index > 0) {\n      customChanging.current = true;\n      picturesUl.current.classList.remove('ul-transition');\n      setPictureShowing(0);\n      requestAnimationFrame(() => {\n        customChanging.current = false;\n        changeAction(index - 1, CONTROL_INDEX, CONTROL_INDEX - 2);\n      });\n    } else if (index < pictureShowing % (picturesArr.length - 1)) {\n      lastPicutre(index);\n    } else if (index > pictureShowing % (picturesArr.length - 1)) {\n      nextPictures(index);\n    }\n  };\n  useEffect(() => {\n    if (defaultChanging.current) defaultChanging.current = false;\n  }, [pictureShowing]);\n  useEffect(() => {\n    // 配置图片懒加载\n    const lazyImages = Array.from(picturesUl.current.childNodes).map(e => e.childNodes[0]);\n    if ('IntersectionObserver' in window) {\n      lazyImages.forEach(image => {\n        observer.observe(image);\n      });\n    } else {\n      lazyImages.forEach(image => {\n        image.src = image.dataset.src;\n      });\n    }\n    // 启动轮播图\n    if (picturesArr.length > 2) {\n      console.log('aaaA');\n      requestAnimationFrame(() => {\n        changeAction(0, CONTROL_INDEX, 1);\n      });\n    }\n  }, []); // 注意，如果没有第二个参数（空数组），那么每次更新都会执行这个副作用。空数组保证只执行一次\n\n  if (useLeftAndRight) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"outest\",\n      style: WIDTH && HEIGHT ? {\n        width: `${WIDTH}px`,\n        height: `${HEIGHT}px`\n      } : {},\n      onMouseOver: () => {\n        setMouseEnter(true);\n      },\n      onMouseLeave: () => {\n        setMouseEnter(false);\n      },\n      children: [mouseEnter ? /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"icon _left\",\n        src: \"left.png\",\n        alt: \"last\",\n        onClick: () => {\n          gotoDirectly(pictureShowing % (picturesArr.length - 1) - 1);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 30\n      }, this) : '', /*#__PURE__*/_jsxDEV(\"ul\", {\n        ref: picturesUl,\n        className: \"ul-transition\",\n        style: {\n          transform: `translate(calc(${pictureShowing} * -${WIDTH}px), 0)`\n        },\n        children: picturesArr.map((e, i) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              \"data-src\": e.src,\n              alt: e.alt,\n              loading: \"lazy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 25\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }, this), useControlPoint ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mydiv\",\n        ref: circlesContainer,\n        children: props.picturesArr.map((e, i) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: circleOrSquare ? 'circle def' : 'square def',\n            onClick: () => {\n              gotoDirectly(i);\n            }\n          }, e.index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 34\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), mouseEnter ? /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"icon _right\",\n        src: \"right.png\",\n        alt: \"next\",\n        onClick: () => {\n          gotoDirectly(pictureShowing % (picturesArr.length - 1) + 1);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 30\n      }, this) : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"outest\",\n      style: WIDTH && HEIGHT ? {\n        width: `${WIDTH}px`,\n        height: `${HEIGHT}px`\n      } : {},\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        ref: picturesUl,\n        className: \"ul-transition\",\n        style: {\n          transform: `translate(calc(${pictureShowing} * -600px), 0)`\n        },\n        children: picturesArr.map((e, i) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              \"data-src\": e.src,\n              alt: e.alt,\n              loading: \"lazy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 25\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }, this), useControlPoint ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mydiv\",\n        ref: circlesContainer,\n        children: props.picturesArr.map((e, i) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: circleOrSquare ? 'circle def' : 'square def',\n            onClick: () => {\n              gotoDirectly(i);\n            }\n          }, e.index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 34\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, this);\n  }\n}, \"e2erZIvIsvbWVNuMVBT2fpbxQo0=\")), \"e2erZIvIsvbWVNuMVBT2fpbxQo0=\");\n_c2 = SlidePictures;\nexport default SlidePictures;\nvar _c, _c2;\n$RefreshReg$(_c, \"SlidePictures$memo\");\n$RefreshReg$(_c2, \"SlidePictures\");","map":{"version":3,"names":["React","useEffect","useState","memo","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","SlidePictures","_s","_c","props","CONTROL_INDEX","picturesArr","circleOrSquare","useControlPoint","length","useLeftAndRight","WIDTH","width","HEIGHT","height","mouseEnter","setMouseEnter","pictureShowing","setPictureShowing","picturesUl","circlesContainer","customChanging","defaultChanging","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","lazyImage","target","src","dataset","unobserve","changeAction","currentPictureIndex","controlIndex","currentIndex","current","requestAnimationFrame","targetIndex","classList","remove","contains","add","lastPicutre","customIndex","endIndex","nextPictures","gotoDirectly","index","lazyImages","Array","from","childNodes","map","e","window","image","observe","console","log","className","style","onMouseOver","onMouseLeave","children","alt","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","transform","i","loading","_c2","$RefreshReg$"],"sources":["D:/leading_end/daily_study/008-轮播图__React/react_project/src/components/SlidePictures/SlidePictures.jsx"],"sourcesContent":["import React, {useEffect, useState, memo, useRef} from 'react'\r\nimport './SlidePictures.scss'\r\n\r\n/**\r\n * props 的参数\r\n * picturesArr: Array   （must）\r\n *      对象数组{src:String, alt:String, index:Number 从零开始}\r\n * circleOrSquare: Number   (0:'square', 1:'circle')\r\n *      下方的控制点事圆圈还是矩形\r\n * useControlPoint: Boolean\r\n *      是否启用下方的控制点\r\n * useLeftAndRight: Boolean\r\n *      是否启用左右两侧的控制标签\r\n * width:Number\r\n *      每一张图片的宽度(宽高必须同时设置)\r\n * height:Number\r\n *      每一张图片的高度(宽高必须同时设置)\r\n */\r\nconst SlidePictures = memo((props) => {\r\n    const CONTROL_INDEX = 260;          // 控制图片的切换速度\r\n    // 复制第一张图片在最后\r\n    const picturesArr = [...props.picturesArr, props.picturesArr[0]];\r\n    const circleOrSquare = props.circleOrSquare || 0;\r\n    const useControlPoint = (props.useControlPoint || true) && (picturesArr.length > 2);\r\n    const useLeftAndRight = (props.useLeftAndRight || true) && (picturesArr.length > 2);\r\n    const WIDTH = props.width || 600;\r\n    const HEIGHT = props.height || 400;\r\n\r\n    const [mouseEnter, setMouseEnter] = useState(false);       //鼠标是否悬浮在整个区域上\r\n    const [pictureShowing, setPictureShowing] = useState(0);   //当前展示的是第几张图片\r\n\r\n    const picturesUl = useRef();                    // 图片外部的ul\r\n    const circlesContainer = useControlPoint ? useRef() : '';              // 底部的小圆圈\r\n    const customChanging = useRef(false);           // 是否人为地引起了改变\r\n    const defaultChanging = useRef(false);          // 默认切换图片\r\n\r\n    const observer = new IntersectionObserver((entries, observer) => {  \r\n        entries.forEach(entry => {  \r\n            if(entry.isIntersecting) {  \r\n                const lazyImage = entry.target;  \r\n                lazyImage.src = lazyImage.dataset.src;\r\n                observer.unobserve(lazyImage);  \r\n            }  \r\n        });  \r\n    });\r\n\r\n    // 控制图片切换的方法\r\n    // (当前所展示的图片索引currentPictureIndex，用于控制是否变换的值controlIndex)\r\n    // 当currentIndex累加到与controlIndex相等时，会进行图片的切换\r\n    const changeAction = (currentPictureIndex, controlIndex, currentIndex) =>{\r\n        if(customChanging.current || defaultChanging.current) return;\r\n        if(currentIndex < controlIndex){\r\n            requestAnimationFrame(() => {changeAction(currentPictureIndex, controlIndex, currentIndex + 1)})\r\n        }else{\r\n            defaultChanging.current = true;\r\n            // 如果有 5 张有效的图片，那么length = 6\r\n            const length = picturesArr.length;\r\n            const targetIndex = (currentPictureIndex + 1) % length;\r\n            if(currentPictureIndex === length - 1){\r\n                picturesUl.current.classList.remove('ul-transition');\r\n                setPictureShowing(0);\r\n                requestAnimationFrame(() => {\r\n                    // 会多走一次requestAnimationFrame，是为了确保 setPictureShowing 完成前没有给 picturesUl 添加 .ul-transition\r\n                    changeAction(0, controlIndex, controlIndex - 1)\r\n                })\r\n            }else{\r\n                if(!picturesUl.current.classList.contains('ul-transition')){\r\n                    picturesUl.current.classList.add('ul-transition');\r\n                }\r\n                setPictureShowing(targetIndex);\r\n                requestAnimationFrame(() => {changeAction(targetIndex, controlIndex, 1)})\r\n            }\r\n        }\r\n    }\r\n\r\n    // 上一张（被gotoDirectly调用）\r\n    const lastPicutre = (customIndex) => {\r\n        customChanging.current = true;\r\n        const length = picturesArr.length;\r\n        var targetIndex = customIndex % length;\r\n        if(targetIndex < 0){\r\n            picturesUl.current.classList.remove('ul-transition');\r\n            let endIndex = length - 1;\r\n            setPictureShowing(endIndex)\r\n            requestAnimationFrame(() => {\r\n                customChanging.current = false;\r\n                changeAction(endIndex - 2, CONTROL_INDEX, CONTROL_INDEX - 1)\r\n            })\r\n        }else{\r\n            setPictureShowing(targetIndex);\r\n            requestAnimationFrame(()=>{\r\n                customChanging.current = false;\r\n                changeAction(targetIndex, CONTROL_INDEX, 1)\r\n            })\r\n        }\r\n    }\r\n    // 下一张（被gotoDirectly调用）\r\n    const nextPictures = (customIndex) => {\r\n        customChanging.current = true;\r\n        const length = picturesArr.length;\r\n        const targetIndex = customIndex % length;\r\n        if(pictureShowing === length - 1 && customIndex === length){\r\n            requestAnimationFrame(()=>{\r\n                customChanging.current = false;\r\n                changeAction(length - 1, CONTROL_INDEX, CONTROL_INDEX)\r\n            })\r\n        }else{\r\n            setPictureShowing(targetIndex);\r\n            requestAnimationFrame(()=>{\r\n                customChanging.current = false;\r\n                changeAction(targetIndex, CONTROL_INDEX, 1)\r\n            })\r\n        }\r\n    }\r\n    // 跳转到指定的图片位，index取值[0 ~ length-2]\r\n    const gotoDirectly = (index) => {\r\n        if(customChanging.current || defaultChanging.current) return;\r\n        if(pictureShowing === picturesArr.length - 1 && index === 0) return;\r\n        if(pictureShowing === picturesArr.length - 1 && index > 0){\r\n            customChanging.current = true;\r\n            picturesUl.current.classList.remove('ul-transition');\r\n            setPictureShowing(0);\r\n            requestAnimationFrame(()=>{\r\n                customChanging.current = false;\r\n                changeAction(index - 1, CONTROL_INDEX, CONTROL_INDEX - 2)\r\n            })\r\n        }else if(index < (pictureShowing) % (picturesArr.length - 1)){\r\n            lastPicutre(index);\r\n        }else if(index > (pictureShowing) % (picturesArr.length - 1)){\r\n            nextPictures(index);\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        \r\n        if(defaultChanging.current) defaultChanging.current = false;\r\n    },[pictureShowing])\r\n\r\n    useEffect(()=>{\r\n        // 配置图片懒加载\r\n        const lazyImages = Array.from(picturesUl.current.childNodes).map(e => e.childNodes[0])\r\n        if('IntersectionObserver' in window){  \r\n            lazyImages.forEach(image => { observer.observe(image); });  \r\n        }else{\r\n            lazyImages.forEach(image => { image.src = image.dataset.src; });  \r\n        }\r\n        // 启动轮播图\r\n        if(picturesArr.length > 2){\r\n            console.log('aaaA')\r\n            requestAnimationFrame(() => {changeAction(0, CONTROL_INDEX, 1)})\r\n        }\r\n    },[])   // 注意，如果没有第二个参数（空数组），那么每次更新都会执行这个副作用。空数组保证只执行一次\r\n\r\nif(useLeftAndRight){\r\n    return (\r\n        <div className=\"outest\" style={(WIDTH && HEIGHT) ? {width:`${WIDTH}px`, height:`${HEIGHT}px`} : {}}\r\n            onMouseOver={() => {setMouseEnter(true)}} onMouseLeave={() => {setMouseEnter(false)}} >\r\n            {/* 向左icon，鼠标进入轮播图区域时才显现 */}\r\n            {\r\n                mouseEnter ? <img className=\"icon _left\" src=\"left.png\" \r\n                    alt=\"last\" onClick={()=>{gotoDirectly(pictureShowing % (picturesArr.length - 1) - 1)}}/> : ''\r\n            }\r\n\r\n            {/* 主要图片 */}\r\n            <ul ref={picturesUl} className='ul-transition' style={{\r\n                transform: `translate(calc(${pictureShowing} * -${WIDTH}px), 0)`\r\n            }}>\r\n            {\r\n                picturesArr.map((e, i) => {\r\n                    return (<li key={i}>\r\n                        <img data-src={e.src} alt={e.alt} loading='lazy'/>\r\n                    </li>)\r\n                })\r\n            }\r\n            </ul>\r\n\r\n            {/* 底部小圆圈的设置 */}\r\n            { useControlPoint ? (<div className='mydiv' ref={circlesContainer}>\r\n                {\r\n                    props.picturesArr.map((e, i) =>{\r\n                        return (<div className={circleOrSquare ? 'circle def' : 'square def'}\r\n                            key={e.index} onClick={()=>{gotoDirectly(i)}}>\r\n                            </div>)\r\n                    })\r\n                }\r\n            </div>) : (<></>)}\r\n\r\n            {/* 向右icon，鼠标进入轮播图区域时才显现 */}\r\n            {\r\n                mouseEnter ? <img className=\"icon _right\" src=\"right.png\" alt=\"next\" \r\n                    onClick={()=>{gotoDirectly(pictureShowing % (picturesArr.length - 1) + 1)}}/> : ''\r\n            }\r\n        </div>\r\n    )\r\n}else{\r\n    return (\r\n        <div className=\"outest\" style={(WIDTH && HEIGHT) ? {width:`${WIDTH}px`, height:`${HEIGHT}px`} : {}}>\r\n            {/* 主要图片 */}\r\n            <ul ref={picturesUl} className='ul-transition' style={{\r\n                transform: `translate(calc(${pictureShowing} * -600px), 0)`\r\n            }}>\r\n            {\r\n                picturesArr.map((e, i) => {\r\n                    return (<li key={i}>\r\n                        <img data-src={e.src} alt={e.alt} loading='lazy'/>\r\n                    </li>)\r\n                })\r\n            }\r\n            </ul>\r\n\r\n            {/* 底部小圆圈的设置 */}\r\n            { useControlPoint ? (<div className='mydiv' ref={circlesContainer}>\r\n                {\r\n                    props.picturesArr.map((e, i) =>{\r\n                        return (<div className={circleOrSquare ? 'circle def' : 'square def'}\r\n                            key={e.index} onClick={()=>{gotoDirectly(i)}}>\r\n                            </div>)\r\n                    })\r\n                }\r\n            </div>) : (<></>)}\r\n        </div>\r\n    )\r\n}\r\n})\r\n\r\nexport default SlidePictures;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}